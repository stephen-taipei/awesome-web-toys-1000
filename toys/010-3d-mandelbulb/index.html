<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>#010 3D Mandelbulb 3D 曼德球 | Awesome Web Toys</title>
    <meta name="description" content="3D 曼德球分形 - 使用 WebGL Ray Marching 即時渲染，拖曳旋轉探索這個神秘的 3D 分形">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 主畫布 -->
    <canvas id="canvas"></canvas>

    <!-- 控制面板 -->
    <div id="controls">
        <h1>🌐 3D 曼德球 Mandelbulb</h1>

        <div class="control-group">
            <label>Power 指數: <span id="power-display">8</span></label>
            <input type="range" id="power-slider" min="2" max="16" value="8" step="0.5">
        </div>

        <div class="control-group">
            <label>最大迭代: <span id="iteration-display">8</span></label>
            <input type="range" id="iteration-slider" min="4" max="20" value="8" step="1">
        </div>

        <div class="control-group">
            <label>細節程度: <span id="detail-display">中</span></label>
            <input type="range" id="detail-slider" min="0" max="2" value="1" step="1">
        </div>

        <!-- 顏色主題 -->
        <div class="control-group">
            <label class="section-label">顏色主題</label>
            <div class="color-options">
                <button class="color-btn active" data-color="cosmic" title="宇宙">
                    <span class="color-preview cosmic"></span>
                </button>
                <button class="color-btn" data-color="lava" title="熔岩">
                    <span class="color-preview lava"></span>
                </button>
                <button class="color-btn" data-color="ocean" title="海洋">
                    <span class="color-preview ocean"></span>
                </button>
                <button class="color-btn" data-color="alien" title="異星">
                    <span class="color-preview alien"></span>
                </button>
            </div>
        </div>

        <!-- 預設視角 -->
        <div class="control-group">
            <label class="section-label">預設視角</label>
            <div class="preset-buttons">
                <button class="preset-btn" data-preset="front">正面</button>
                <button class="preset-btn" data-preset="top">俯視</button>
                <button class="preset-btn" data-preset="side">側面</button>
                <button class="preset-btn" data-preset="detail">細節</button>
            </div>
        </div>

        <!-- 控制按鈕 -->
        <div class="button-group">
            <button id="auto-rotate-btn" class="action-btn active">
                <span class="icon">↻</span>
                <span class="text">自動旋轉</span>
            </button>
            <button id="reset-btn" class="action-btn">
                <span class="icon">↺</span>
                <span class="text">重置</span>
            </button>
        </div>

        <div class="stats">
            <div class="stat-row">
                <span>視角:</span>
                <strong id="angle-display">0°, 0°</strong>
            </div>
            <div class="stat-row">
                <span>縮放:</span>
                <strong id="zoom-display">1.0x</strong>
            </div>
        </div>
    </div>

    <!-- 說明面板 -->
    <div id="info-panel">
        <h2>曼德球 Mandelbulb</h2>
        <p>由 Daniel White 與 Paul Nylander 於 2009 年發現的 3D 分形。</p>
        <div class="formula">
            <p>球座標迭代公式：</p>
            <code>r<sup>n</sup> · (sin(nθ)cos(nφ), sin(nθ)sin(nφ), cos(nθ)) + c</code>
        </div>
        <p class="tip">💡 拖曳旋轉，滾輪縮放，調整 Power 改變形狀</p>
    </div>

    <!-- 載入提示 -->
    <div id="loading">
        <div class="spinner"></div>
        <span>渲染中...</span>
    </div>

    <script src="script.js"></script>
</body>
</html>
